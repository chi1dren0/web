"use strict";(self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[]).push([[911],{9911:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"manage"},[a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{rules:e.rules,inline:!0,model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"年龄",prop:"age"}},[a("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:1}}),a("el-option",{attrs:{label:"女",value:0}})],1)],1),a("el-form-item",{attrs:{label:"出生日期",prop:"birth"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-DD"},model:{value:e.form.birth,callback:function(t){e.$set(e.form,"birth",t)},expression:"form.birth"}})],1),a("el-form-item",{attrs:{label:"地址",prop:"addr"}},[a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.form.addr,callback:function(t){e.$set(e.form,"addr",t)},expression:"form.addr"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1),a("div",{staticClass:"manage-header"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v(" +新增 ")]),a("el-form",{attrs:{inline:!0,model:e.userForm}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1),a("div",{staticClass:"common-tabel"},[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",height:"90%",data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1==t.row.sex?"男":"女"))])]}}])}),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),a("el-table-column",{attrs:{prop:"birth",label:"出生日期"}}),a("el-table-column",{attrs:{prop:"addr",label:"地址"}}),a("el-table-column",{attrs:{prop:"addr",label:"地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.handleDtel(t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.total},on:{"current-change":e.handelPage}})],1)],1)],1)},s=[],r=a(586),i={data(){return{dialogVisible:!1,form:{name:"",age:"",sex:"",birth:"",addr:""},tableData:[],modelType:0,total:0,pageData:{page:1,limit:10},userForm:{name:""},rules:{name:[{required:!0,message:"请输入姓名"}],age:[{required:!0,message:"请输入年龄"}],sex:[{required:!0,message:"请输入性别"}],birth:[{required:!0,message:"请输入出生日期"}],addr:[{required:!0,message:"请输入地址"}]}}},methods:{submit(){this.$refs.form.validate((e=>{e&&(0===this.modelType?(0,r.cn)(this.form).then((()=>{this.getList()})):(0,r.uz)(this.form).then((()=>{this.getList()})),this.$refs.form.resetFields(),this.dialogVisible=!1)}))},handleClose(){this.$refs.form.resetFields(),this.dialogVisible=!1},cancel(){this.handleClose()},handleEdit(e){this.modelType=1,this.dialogVisible=!0,this.form=JSON.parse(JSON.stringify(e))},handleDtel(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,r.ti)({id:e.id}).then((()=>{this.$message({type:"success",message:"删除成功!"}),this.getList()}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},getList(){(0,r.PR)({params:{...this.userForm,...this.pageData}}).then((e=>{let{data:t}=e;this.tableData=t.list,this.total=t.count||0}))},handleAdd(){this.modelType=0,this.dialogVisible=!0},handelPage(e){this.pageData.page=e,this.getList()},onSubmit(){this.getList()}},mounted(){this.getList()}},o=i,n=a(1001),m=(0,n.Z)(o,l,s,!1,null,"484be1f4",null),d=m.exports}}]);
//# sourceMappingURL=911.131486e3.js.map